# TODO: put a directory here to store records for how your experiments are created
local_kurreal_folder: ~/kurreal
# When you create an experiment, we prefix your name before it to avoid conflict. 
# TODO: Put your name here.
username: forgot_to_set_username
prefix_experiment_with_username: True

## Optional, enable this to persist experiment records to a shared network file system
# TODO: clean up nfs related functionalities
fs:
  type: nfs
  server: surreal-shared-fs-vm
  path_on_server: /data
  mount_path: /fs
  # actual experiment folder will be <mount_path>/<root_subfolder>/<experiment_name>/
  # see kubectl.get_remote_experiment_folder()
  # TODO: replace<username> with your name
  experiment_root_subfolder: experiments/<username>

creation_settings:
  basic:
    config:
      mode: basic
    agent:
      image: <public surreal cpu image>
      node_pool: np-2cpu-7680mem-np
    nonagent: 
      image: <public surreal cpu image>
      node_pool: np-8cpu-30720mem-np

  cpu:
    config:
      mode: basic
    agent:
      image: <your own cpu image>
      node_pool: np-2cpu-7680mem-np
      build_image: cpu-image
    nonagent: 
      image: <your own cpu image>
      node_pool: np-8cpu-30720mem-np
      build_image: cpu-image

  k80:
    agent:
      image: <your own cpu image>
      node_pool: np-2cpu-7680mem-np
      build_image: cpu-image
    nonagent: 
      image: <your own gpu image>
      node_pool: np-8cpu-30720mem-1k80-np
      build_image: gpu-image

  batched:
    config:
      mode: batched
      batch_agent:
      batch_eval:
    agent:
      image: <public surreal cpu image>
      node_pool: np-2cpu-7680mem-np
    nonagent: 
      image: <public surreal cpu image>
      node_pool: np-8cpu-30720mem-np


docker_build_settings:
  # TODOs: a log
  # Here replace every occurrence '~/surreal/Surreal' 
  # with the path to Surreal repo on your local machine
  # 
  # Similarly replace for Tensorplex, MujocoManipulation and TorchX
  # These configuration tells the kurreal commandline to collect these repo when 
  # building the docker image
  # 
  # temp_directory specifies where to copy all these files to
  - name: cpu-image # kurreal refers to this name when launching
    # TODO: set the following directory to one you want
    # it is used a subdirectory will hold all the files that we collect for docker build
    temp_directory: ~/symph_temp/cpu
    # verbose: true (default: prints docker cmdline output)
    dockerfile: ~/surreal/Surreal/container/DockerfileCPU
    context_directories: # These paths will be copied to temp_directory before build
      - name: surreal # Directory will be under folder @name in the build context
        path: ~/surreal/Surreal
        force_update: true # Copy a new version every time
      - name: tensorplex
        path: ~/surreal/Tensorplex
        force_update: false # Only copy when not found in build_directory
      - name: mujoco
        path: ~/surreal/MujocoManipulation
        force_update: false 
      - name: torchx
        path: ~/surreal/TorchX
        force_update: false
  - name: gpu-image
    # TODO: set the following directory to one you want
    # it is used a subdirectory will hold all the files that we collect for docker build
    temp_directory: ~/symph_temp/gpu
    dockerfile: ~/surreal/Surreal/container/DockerfileGPU
    context_directories: # These paths will be copied to temp_directory before build
      - name: surreal # Directory will be under folder @name in the build context
        path: ~/surreal/Surreal
        force_update: true # Copy a new version every time
      - name: tensorplex
        path: ~/surreal/Tensorplex
        force_update: false # Only copy when not found in build_directory
      - name: mujoco
        path: ~/surreal/MujocoManipulation
        force_update: false 
      - name: torchx
        path: ~/surreal/TorchX
        force_update: false
